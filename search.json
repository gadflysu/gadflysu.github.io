[{"title":"Windows 启动引导选项","date":"2019-09-11T16:00:00.000Z","url":"/post/windows-boot-options/","tags":["windows","boot"],"content":"😋 本文根据微软文档 Tools for Changing Boot Options for Driver Testing and Debugging 写成，由于该主题部分内容可能是由机器翻译，gadflysu 在其基础上主要对「Windows 启动选项」部分内容进行完善翻译，且有改动或删减。能力受限，若有不足还请见谅。 概述Windows 启动引导程序 (boot loader) 的体系结构包括： 与固件无关的启动配置和存储系统 Boot Configuration Data (BCD) 启动选项编辑工具 BCDEdit (BCDEdit.exe)。 BCDEdit 适用于 Windows NT 6（Windows Vista、Windows Server 2008 及以后的 NT 操作系统）。 ℹ️ [Note] 使用 BCDEdit 需要管理权限，且有可能导致计算机无法工作，系统配置实用工具 (Msconfig.exe) 是更改启动设置的另一种方法。 启动引导体系结构以前的 Windows NT 启动加载程序 ntldr 现由三个组件替代： Windows Boot Manager (Bootmgr.exe) Windows operating system loader (Winload.exe) Windows resume loader (Winresume.exe) 其中 Windows Boot Manager 是通用的，boot loader 则针对特定系统进行优化。当有多个启动项（包括 Windows）时，根目录中的 Windows Boot Manager 将启动并与用户交互，即显示启动菜单，加载用户所选择的 boot loader，并将引导参数传递给 boot loader。boot loader 位于每个 Windows 分区的根目录中。被选中后，boot loader 将接管启动进程，并根据指定的启动参数加载操作系统。 引导配置数据 (BCD)Windows 启动选项存储在基于 BIOS 和 EFI 的计算机上的引导配置数据 (BCD) 存储区中。 BCD 提供与固件无关的通用启动选项接口，它比以前的启动选项存储配置更安全，因为它允许安全锁定 BCD 存储，并允许管理员分配管理启动选项的权限。BCD 存储使用熟悉的对象和元素体系结构，通过 GUID 和如 Default 的名称来精确标识与启动相关的应用程序。 BCD 包含自己的一组启动选项。详见 BCD 启动选项参考。 启动选项标识符很多 bcdedit 命令需要标识符 (identifiers)。标识符唯一地标识启动设置存储区中的一个条目。 显示标识符： 标识符使用全局唯一的英语名称或 GUID。 特殊标识符一些配置条目拥有容易理解的特殊 id，bcdedit 将直接显示这些 id，除非使用 /v 参数指定显示 GUID。 常见特殊标识符： 标识符 描述 {default} 指 boot manager 默认启动项 {current} 指当前正在运行的操作系统的启动项 {bootmgr} 指 Windows boot manager 关于设置选项的标识符： 标识符 描述 {globalsettings} 包含全局设置，所有启动项都应继承 {bootloadersettings} 包含 boot loader 全局设置，所有 boot loader 项都应继承 {dbgsettings} 包含全局调试器设置，可被任何启动项继承 {hypervisorsettings} 包含虚拟机管理程序 (hypervisor) 设置，可被任何 OS loader 项继承 {emssettings} 包含全局紧急管理服务 (EMS) 设置，可被任何启动项继承 {resumeloadersettings} 包含 resume loader 的全局设置，所有 Windows 从休眠状态恢复的条目都应继承 {badmemory} 包含全局 RAM 缺陷列表，可被任何启动项继承 {memdiag} 指定内存诊断应用程序条目 {ramdiskoptions} 包含 boot manager 要求 RAM 磁盘设备的附加选项 早期版本的 Windows 使用这些标识符： 标识符 描述 {ntldr} 指 OS loader (Ntldr)，可用于启动 Windows Vista 以前版本的 Windows {fwbootmgr} 指固件 (firmware) 的 boot manager，特别用于那些实现 EFI 规范的系统 GUIDGUID 具有以下格式： 其中每个 x 表示十六进制数字，短划线 - 和大括号的位置是固定要求。由于使用 GUID 容易出错，所以建议使用英语的标识符名称配置 Windows 的启动信息，例如 {current} 等。例如： 使用 bcdedit /enum /v 来显示与标识符相关联的 GUID。 启动选项继承某些启动设置可被继承，这使一组设置可用于不同的引导方案。 使用 bcdedit /enum 命令显示任何标识符所指的条目信息，条目内 inherit 显示继承信息。如下例中 {current} 条目继承 {bootloadersettings}。 使用 bcdedit /enum 命令和 inherit 选项显示有关继承的信息。 使用 bcdedit /enum all 命令以查看所有设置。 BCDEdit 选项参考（略）启动入口参数，或引导参数，是可选的系统特定的设置，表示配置选项。你可以为一个操作系统的启动项添加启动参数。 ℹ️ [Note] 设置 BCDEdit 选项之前，可能需要禁用或暂停 BitLocker 和安全启动。 详见 BCDEdit Options Reference。 编辑启动选项本部分讲述使用 BCDEdit 自定义启动选项的基本元素的分步过程。 BCDEdit 随操作系统自带，在命令提示符窗口键入 bcdedit /? 或 bcdedit /? TOPICS 查看帮助。详见 BCD 启动选项参考。 ℹ️ [Note] 设置 BCDEdit 选项之前，可能需要禁用或暂停 BitLocker 和安全启动。 添加新的启动项启动项 (boot entry) 是指一组定义操作系统或可启动程序的引导配置的选项。你可以为一个操作系统设定多个具有不同启动参数的启动项。Windows Installer 在安装系统时创建了一个标准的启动项，建议不要改动之；而是添加一个单独的自定义启动项。 添加新的启动项添加新启动项的最简单办法是，复制现有的启动项，然后根据需要修改该副本。 ℹ️ [Note] 设置 BCDEdit 选项之前，可能需要禁用或暂停 BitLocker 和安全启动。 以管理员身份打开命令提示符窗口，使用 bcdedit 命令，由 /copy 选项指定源启动项、由 /d 选项指定目标启动项（即新启动项的名字）。例如复制一个当前操作系统的启动项： 如果顺利，该命令会告诉你新启动项的标识符 (GUID)，新启动项会被自动添加到启动菜单的最后一项。 使用 bcdedit 命令和 / create 选项可以创建一个启动项，但更加困难，因为你需要提供有关启动项类型的其他信息，指定 /application、/inherit 和 /device 等选项。例如创建名为 “My Windows Vista” 的新操作系统启动项： 如果顺利，该命令会告诉你新启动项的标识符 (GUID)，但是新启动项不会被自动添加到启动菜单。你必须使用 /displayorder 选项将启动项添加到启动菜单，位置可以任定。 在命令提示符窗口键入 bcdedit /? /create 查看帮助。 调整启动菜单使用选项 /displayorder 调整启动菜单中的启动项顺序，语法如下： ID 是启动项的 GUID 或特殊标识符（如 {current}），注意用空格分隔每个标识符，确保包含花括号 { }。例如将 DebugEntry 启动项添加到启动菜单 {current} 项之后（注意在 Windows PowerShell 中使用 &#39;{guid}&#39;): 此外使用选项 /addlast 和 /addfirst 调整启动项顺序。例如添加 DebugEntry 启动项到启动菜单的最后一项： 移除和删除启动项使用选项 /remove 将启动项从菜单移除。例如： 该命令仅改动启动菜单，被移除的启动项仍在 BCD 存储中。 使用 /delete 选项将启动项从启动菜单和 BCD 存储中完全删除。例如： 使用 bcdedit 命令且不带任何参数，BCDEdit 将显示 boot manager 条目并以启动菜单的顺序显示其中的启动项。 Windows Boot Manager 条目还包括启动菜单显示顺序 (displayorder)。 更改启动项的友好名称Windows Boot Manager 中启动项所显示的名称由该项的 description 决定。为启动项设定一个友好的名称有助于使之与其他项区分开，一个准确描述条目的名称可以节省大量的时间和精力。 无意义名称的示范： 准确名称的示范： ℹ️ [Note] 当基于 x86 或 x64 系统上的启动项配置了调试 (/debug /debugport) 或紧急管理服务 (EMS) (/redirect) 时，boot loader 将在启动项名称后追加一个用方括号括起来的短语（[debugger enabled] 或 [ems enabled]) 。但当启动项的友好名称和前述的方括号短语合计超过 70 个字符时，启动菜单忽略方括号短语，所以请视情况缩短启动项的名称。 若要更改 Boot.ini 文件中的启动项的友好名称，可以使用 Bootcfg 或编辑 Boot.ini 文件。对于将启动选项存储在 EFI NVRAM 中的系统，使用 Bootcfg。 若要更改 Windows 的启动项的友好名称，请使用 BCDEdit。 使用 BCDEdit使用 bcdedit 命令和 /set 选项修改启动项的友好名称。语法如下： 其中， 是启动项的标识符。 ℹ️ [Note] 如果使用 Windows PowerShell，必须在标识符两边加上引号，如 &quot;{current}&quot;。 在复制现有的启动项时，可使用 /d 选项直接修改名称： 使用 Bootcfg若使用 Bootcfg，启动项的友好名称只能在复制该条目时更改。使用 bootcfg 命令和 /copy 选项复制条目： 其中，使用 /ID 指定要复制的项的行号，/d 指定的新创建的项的友好名称。详见使用引导参数。 编辑 Boot.ini 文件在 Boot.ini 文件中，启动项的友好名称用引号标出。如： 直接编辑即可。 更改启动参数若要启用并配置与启动相关的操作系统功能（如调试），必须将启动参数添加到操作系统的启动项中。 BCDEdit 可以为启动项添加配置参数，如使用 /ems、/debug 或 /dbgsettings 等选项修改全局设置，或使用 BCDEdit /set 设置单独的参数，如下例将指定的启动项启用 PAE： 使用 /debug 选项启用或禁用内核调试程序： 若未指定 ID，该命令将为当前操作系统设置。以下命令打开为启动项目，名为 DebugEntry 内核调试程序： 更改默认启动项默认启动项是启动菜单超时后自动选择的项。 使用 BCDEdit 命令和 /default 选项指定默认启动项： 若要将默认启动项更改为早期 Windows 操作系统的 boot loader，使用 {ntldr} 作为 ID，这是 Ntldr 的保留名。 更改启动菜单超时引导菜单在等待一定时长后自动加载默认启动项，该时长以秒为单位。 使用 BCDEdit 命令和 /timeout 选项更改默认引导菜单超时值： 使用启动参数（略）驱动程序开发人员和测试人员通常需要添加、删除和更改启动项的参数以在不同状况下测试驱动程序。详见官方文档。 以前版本的 Windows 的启动选项（略）Windows XP 和 Windows Server 2003 中的启动选项，详见官方文档。 📖 [Ref] Microsoft Docs: Tools for Changing Boot Options for Driver Testing and Debugging ℹ️ [More] Windows NT 6 startup process - Wikipedia"},{"title":"中国银行「长城跨境通国际借记卡」体验","date":"2019-08-19T16:00:00.000Z","url":"/life/boc-mastercard-visa-debit-card/","tags":["debit card","mastercard","visa","bank of china","finance"],"categories":["life"],"content":"中国银行「长城跨境通国际借记卡」是 中国银行与国际上最大的两家银行卡组织 (Mastercard &amp; Visa) 合作，在国内推出的首张搭载 EMV 芯片标准的国际多币种借记卡，是具有接触 / 非接触功能的磁条芯片复合卡。 最重要的是，此卡是一张单标外币借记卡，支持绑定到 PayPal (US)、Google Play (US)、Vultr 等不接受银联卡的境外商户，非常适合于不方便申请国际信用卡但有境外消费需求的学生。 介绍🔗 [Links] 产品介绍 | 办卡指南 此卡有 Mastercard 和 Visa 两种品牌，有三种卡等级——对于 Mastercard（万事达卡），有金卡 Gold、白金卡 Platinum、世界卡 World；对于 Visa，有金卡 Gold、白金卡 Platinum、Signature 卡 Signature。因此享受 Mastercard 和 Visa 组织提供的各项权益和优惠活动。 🔗 [Links] 万事达卡尊享权益 | Visa 卡尊享权益 | 万事达卡权益平台 | Visa 卡权益平台 （已停更） Mastercard 的金卡和白金卡的卡面是韩国插画师 Ji Hyuk Kim 的世界名著系列故事绘画，分别为英国童话《佛兰德的狗》和加拿大小说《绿山墙的安妮》，世界卡的卡面则是法国画家克洛德·莫奈 (Oscar-Claude Monet) 的油画作品《印象·日出》，另有一未发行的竖版卡面为《打阳伞的女人（面左）》；Visa 的金卡和白金卡使用长城环球旅行卡的卡面，Signature 卡则是冬奥主题。所以外貌协会的 gadflysu 当然选择好看的 Mastercard。 金卡年费 10 元，白金卡年费 20 元。2019 年度办卡减免首年年费。开卡即免费赠送短信通知服务。 此卡支持美元、欧元、日元、港币、英镑、加拿大元、澳大利亚元、瑞士法朗、新加坡元、澳门元、韩国元、丹麦克朗、挪威克朗、新西兰元、菲律宾比索、俄罗斯卢布、瑞典克朗、泰国铢、南非兰特共计 19 种外币进行原币支付，无需进行货币转换。如交易地币种不在上述外币范围内，或卡片内交易地币种账户无余额或余额不足时，自动使用美元账户资金完成支付。 ⚠️ 注意： 此卡没有人民币账户，必须手动购汇，不得向其转账人民币。 此卡在交易时先冻结交易金额，后结算扣款。（见《中国银行股份有限公司长城借记卡章程》第十一条） 申请申领此卡无需繁杂的财力证明，前往中国银行网点申请当日领卡，或者线上申请等待邮寄。 凡自愿遵守《中国银行股份有限公司长城借记卡章程》并符合个人结算账户开立条件的个人，均可凭人民银行规定的本人实名制有效身份证件申领。 为了尽快拿到卡，gadflysu 决定到线下的中国银行营业网点申请。 ⚠️ 注意：除了「长城跨境通国际借记卡」，我们还需要一张普通的银联借记卡（人民币账户）用于购汇。 线上根据 poplite 的介绍，线上申请有两个渠道，分别来自微信公众号的「个金微资讯」和「中国银行上海分行」。 ⚠️ 注意：线上申请要求持卡人年满 16 周岁；申请时间为每天 8:30 至 19:30；邮寄地址应精确到门牌号；每人仅能持有一张世界卡。 通过「个金微资讯」公众号菜单【产品服务】→【申请借记卡】或下面的链接进入申请页面。 🔗 [Link] 线上申请 此通道支持长城跨境通国际借记卡的两种卡品牌和三种卡等级，共六种卡。 ℹ️ [More] Visa 冬奥主题借记卡 Signature | 线上申请 通过「中国银行上海分行」线上申请： 卡种 办理 Mastercard 莫奈卡 World 🔗 线上申请 Mastercard 非人哉联名卡 Gold 🔗 线上申请 此通道支持 Mastercard 的莫奈油画卡面的世界卡和非人哉联名限量发行的金卡。 ℹ️ [More] 洛天依小柠檬联名的银联借记卡线上申请 线下幸运的是，gadflysu 的住处附近就有一家中国银行，骑自行车大约只要十分钟的距离。 首先确认附近的中国银行营业网点是否支持办理「长城跨境通国际借记卡」。 通过在线客服咨询所在城市是否支持办理此卡，若是，有哪些网点支持。我咨询的客服告诉我江苏省网点支持办理，当我追问详细的网点时，她建议我咨询省分行，并给了我一个电话。（算了。） 通过电话直接咨询附近网点是否支持办理此卡，电话号码可在中国银行官网的机构网点页面或地图应用中搜寻。接我电话的工作人员告诉我其网点支持办理，当我追问是否有 Mastercard 时，她表示不确定，并给了我一个电话 (*2?)。（不能算了。）我继续打过去询问，比较顺利。 然后前往中国银行的营业网点办理申请即可。记得带上有效身份证和手机。（废话。） 据 gadflysu 的一点经验，一定要提前清楚了解银行业务的办理流程，两种：在工作人员的协助下到自助机器办理；在前台领号排队，待叫号时到柜台办理。千万不要觉得既然到银行时有工作人员贴心地询问办理什么业务，就耐心地待受其「服务」，因为人多的时候，如果没有主动询问或领号排队，（即便已经得到招待也）有可能被傻乎乎地晾在一边。请自行主动 cue 流程。这点素质相信在生活的各种事情上都适用。 假如在中国银行已开户且有普通借记卡，建议直接领号到柜台办理；否则，前述的两种流程一般都需要走一遍，因为先开户和办理普通的银联借记卡，工作人员是会带你到自助机器办的（不会建议你占用柜台的），而后申请长城跨境通国际借记卡应去柜台。 ⚠️ 注意：开户时要开通「网上银行」和「手机银行」业务。 幸亏我机智，当等待前方占用机器的客户的时候，我意识到我被晾了（因为她也被晾了，等待协助她办理业务的工作人员良久，整个队伍都停滞了），那么我白白等待的时候为什么不先领号排队呢？况且彼时距离银行关门大约仅余半小时，于是我主动回到前台要求领号，在排队等待且无聊踱步一会儿之后才有工作人员来问否办卡、继而才给我一张《个人账户开户及综合服务申请表》——这张表在稍后到柜台申卡的时候需要提交，但其实已开户的（比如刚刚在机器上开卡的我）粗略填写即可。 在柜台办理时，我们需要告知工作人员准确的卡种，并要求开通「小额 / 凭签名支付」功能。后者是工作人员主动询问我是否开通的，若工作人员没有提及，建议主动要求。 工本费 5 元，部分网点收取。 最后，gadflysu 顺利拿到一张《佛兰德的狗》卡面的 Mastercard 跨境通卡，好耶！ 然而可恨的是 gadflysu 以为工作人员从抽屉里搜罗出来的预制卡应该也只是旧一点，没想到卡上的金属芯片表面已经产生无法恢复的锈蚀。心态爆炸。（算了。） 使用此卡的使用一般是先通过银联借记卡购汇，然后将外汇转账到长城跨境通国际借记卡的对应币种账户。 ⚠️ 注意：此卡没有人民币账户，必须手动购汇，不得向其转账人民币。 在正式使用之前还需要初始化绑卡到手机银行并开通各项支付相关功能。本文的手机银行以 iOS 平台上的「中国银行」v6.0.6 为例。 首先将长城跨境通国际借记卡绑定到手机银行。确保此卡与银联借记卡被关联到同一账号。 然后在手机银行中为长城跨境通国际借记卡开通在线支付、跨行代扣、跨行订购、小额 / 凭签名免密和境外磁条交易等功能。其中「小额 / 凭签名免密」若已在柜台开通，则可忽略。 进入手机银行首页，选择【更多】→【支付】→【支付管理】→【跨行支付】，或者在搜索栏输入「跨行支付」后进入对应设置界面，接着分别选择【在线支付】【跨行代扣】和【跨行订购】以确认开通。 进入手机银行首页，选择【账户管理】，或者在搜索栏输入「账户管理」后进入对应设置界面，根据卡号选择跨境通借记卡 →【限额设置】，接着分别选择【小额 / 凭签名免密（POS 消费）】和【磁条交易限额设置】以确认开通。 购汇目前中国仍然是外汇管制国家。针对个人，每年结 / 购汇额度均为等值 5 万美元。 「现钞」是指取出为钞票或以钞票存入的款项；「现汇」是指转出为汇款或以汇款存入的款项。「结汇」是指将外汇 / 钞结算为人民币，即外币 → 人民；「购汇」是指使用人民币购买外汇 / 钞，即人民币 → 外币。 以 08/23/2019 00:00:05 中国银行发布的外汇牌价为例，美元的现汇买入价为 707.07、现钞买入价为 701.32、现汇卖出价为 710.06、现钞卖出价为 710.06。「现汇买入价」是指银行向你买入现汇的价格，即你的现汇结算价格为 $ 100 → ¥ 707.07；「现钞买入价」是指银行向你买入现钞的价格，即你的现钞结算价格为 $ 100 → ¥ 701.32；「现汇卖出价」是指银行向你卖出现汇的价格，即你的现汇购买价格为 ¥ 710.06 → $ 100；「现钞卖出价」是指银行向你卖出现钞的价格，即你的现钞购买价格为 ¥ 710.06 → $ 100。在一般情况下，现钞卖出价 &gt; 现汇卖出价 &gt; 现汇买入价 &gt; 现钞买入价。 ℹ️ [Note] gadflysu 在这方面并不专业，上述为简单理解，仅供参考。 经 gadflysu 向银行工作人员确认，跨境通卡上的外汇和外钞账户均可用于一般的网上购物，所以购汇时选择价格较低的现汇，除非有 ATM 或银行提取现钞的需求。 通过银联借记卡购汇： 进入手机银行首页，选择【更多】→【出境和外币服务】→【结汇购汇】→【购汇】，或者在搜索栏输入「购汇」后进入购汇界面，第一次需要开通「投资理财服务」。 阅读 30 秒《个人购汇申请书》浪费 30 秒的人生并确认之后进入购汇申报表，「交易账户」选择银联借记卡，「币种」和「外币金额」按需选择，「钞汇」一般选择价格较低的现汇，「预计用汇时间」「购汇用途」及之后的其他项则如实填写，勾选「本人保证申报信息真实有效……」，接着选择【下一步】，按照提示进行即可完成购汇。 ⚠️ 注意：中国银行的手机银行结汇购汇服务有工作时间限制。 结售汇交易只在每日 8:00 - 22:00 受理。为确保您的交易正常受理，建议您尽量避免在临近 22:00 时发起交易。 转账向跨境通卡转账外币： 进入手机银行首页，选择【转账】，然后选择【账号转账】，或者直接在【常用收款人】→【我的账户】下选择跨境通卡，进入转账界面。 「付款账户」选择银联借记卡、「币种」选择现有的外汇币种、「转账金额」自行设定、「收款人」填写自己的姓名、「收款账号」填写跨境通卡账号，接着选择【下一步】，按照提示即可完成转账。 交易此卡可顺利绑定到 PayPal (US)、Google Play (US)、Vultr 等境外商户。 ⚠️ 注意：此卡在交易时先冻结交易金额，后结算扣款。 《中国银行股份有限公司长城借记卡章程》第十一条： 申请人通过 Visa、Mastercard 等国际银行卡组织网络进行的交易属双信息交易，即卡片发生交易时，先在持卡人的账户中冻结交易金额，当国际银行卡组织与中国银行进行结算时再从持卡人账户中完成扣款。 据 poplite 的介绍，冻结金额的比例与消费币种有关，美元为 100%，非美元为 102%，其中 2% 将在入账后返还，因此建议在账户中多存入交易金额的 2%；在首次绑卡或支付时，部分商户会冻结一笔小额资金来验证你的账户，因此建议在账户中预存入 1 - 2 美元。 ⚠️ 注意：当交易账单发生退款时，冻结状态的资金一般可以退还，而结算扣款完成的资金可能无法退款入账。 据 miao_o 的介绍，此卡目前不接受任何外来资金的入账（包括退款），只接受本人的中国银行账户进行外币资金入账。 交易的动账通知有多种渠道：移动客户端「手机银行」、微信公众号「中国银行微银行」、短信。 以上是 gadflysu 的中国银行「长城跨境通国际借记卡」体验。祝你顺利。 📖 [Ref] poplite’s blog | moenjoy.com"},{"title":"第一次面试：字节跳动","date":"2019-07-23T16:00:00.000Z","url":"/career/first-interview-with-bytedance/","tags":["interview","campus recruitment","first experience","big factory","bytedance"],"categories":["career"],"content":"蒟蒻的第一次求职面试且失败之旅。:) 一面7 月 17 日晚上接近 24 点才投递简历，字节跳动的校招提前批客户端开发。由于我可怕的拖延症和踩点习惯，简历并未顺利进入提前批内推系统。在此非常感谢校友学长帮我内推给 HR。18 日中午收到电话和邮件的面试邀请，约定 19 日早上进行面试。 接完电话我是开心的，像我这样的菜鸡，从发出简历到收到邀请竟然不到 12 小时，怕是审核阶段不严格，等后期……然后我马上开始慌了，放下手头堆积的有的没的折腾的东西（比如本博客站点 XD），浏览器 Ctrl + N 开始查各种面经，重要考点……是，尽管我计划暑假开始找实习的（已经晚了，其中的无奈与自作自受按下不表），但我仍未能理智地分清轻重缓急，求职面试方面其实没有任何经验。 幸好看到字节跳动的机会的时候，也算有努力一把。At least I started. 18 日下午开始匆忙准备，慌得心脏不停地急速地跳，一直持续到第二天 10:30。这就是我的心理素质水平，和学校的考试前一样。所以我亦时而饮鸩止渴——靠娱乐视频来缓解极度慌张的心情。18 日晚上只睡了一个多小时。 19 日 10:30，面试准时开始，时长约 50 分钟。面试官声音很温柔，初印象是直爽且细致，他开门见山，没有要求自我介绍，在短暂的调试完音视频通话延迟之后，直接开始提问专业知识。 我真啰嗦，开门不见山—— 基础 近年手机产品宣传中的 32 位与 64 位指什么？编程时提到的 32 位与 64 位指什么？ C 的 sizeof C 函数中形式参数的值传递 C 函数调用栈 进程与线程 进程的上下文 大端与小端存储模式 文件格式识别 TCP 建立连接的三次握手、关闭连接的四次握手，假如数据均已传输完毕，关闭连接可否仅三次握手？ 如上几个问题，可能有遗漏，是我忘记了。我好疲惫。 算法 求两个链表的交点。简述思路。 一开始我竟然有脸说写两个 for 循环直接暴力，我佛了，丢人也不是这样的。显然需要优化，后来我说直接扫一边查出重复出现的地址。场面陷入尴尬，面试官说那么简化点，仅检查是否有交点。面试官看我还是不会，尝试善意地引导我。最后放弃。 这道题是 LeetCode 0160。 求最长递增子序列。Coding. 经典题目，不过我还是拿起草稿纸稍微画了一下，开始写一个简单的 dp。完成。 小结一面总体难度是简单的，奈何我太菜，感觉凉了。我太太太太紧张了。（借口） 二面万万没想到一面过了，面试结束两个小时后接到电话的时候，我在补觉。HR 本来安排下周一，我要求多一些时间准备，于是约定 24 号。 24 号 14:00 准时开始，历时约一个小时。中间因为开热点用于联网的手机没电直接关机导致面试中断，场面十分尴尬。面试官同样很温和，常常微笑，让我不那么紧张；但这也有个坏处，就是缺乏准确的效果反馈，让我竟然以为自己表现得还可以，实际上已经被淘汰了。这场面试还有个特点（不知道是公司特点还是面试官特点），就是问题不难，甚至算是简单的，也因此对于回答的要求会比较严格，「准确、全面」应该是基本的，这是后来才察觉到的事情。 开始其实有要求一个简短的自我介绍，但面试官似乎没有特别明确，加上一面的经历，我的答复显得有点……非常……随意。接着是聊项目，这里应该是我对以往项目的思路、见解，但我竟然如实交代我「几乎没有项目经验」，其实课程作业也是可以的，面试官希望了解的是我如何参与一个项目的设计、讨论、实现等等。我表现很差。面试官看我如此差劲，甚至调整形式，以他作为同学的角色来和我探讨项目。以一个计算器应用为例子，我尝试去描述需求、功能、架构等，我的表达相当贫瘠、混乱、毫无亮点。我根本对应用框架没有把握，面试官似乎问了我在课程作业中有没有接触到什么，我终于提到了 MVC 架构，提到了在《UML 系统分析与设计》课程里做的「餐厅预订系统」。就此聊了一些，比如系统设计的框架、主要类等等，最后的重点是问如何避免在某次写入数据的操作期间数据库发生其他修改，我试着从「锁」的角度去讲，面试官则考虑的是数据库的事务。 Fine. 期间也穿插了一些基础的问题。 基础 描述从输入网址到浏览器显示网页的详细过程 HTTP 是基于 TCP 还是 UDP 简述 HTTPS 正则表达式（根据我博客提问的，但我只是初步接触那是学习记录而已啊 QAQ） 应该还有别的问题，是我忘记了（复读）。 算法 求数段区间的并区间。 读完题目和面试官表述题意，确认后开始写。正是在此 coding 期间意外断网的，尴尬的是等到我写完准备在网页上提交运行超时才发现面试官的画面已经是静止的了，彼时我还疑惑「咦，他为什么不动啊」。可恶……不过代码基本 bug-free，毕竟题目也比较简单，我写的是 O(n log n)，也许可以优化但我太蠢了。 这道题是 LeetCode 0056。 小结最后面试官问有没有学习过别的领域或者感兴趣的，我提了一下 Git 和自动化，后者还没学。事实 Git 这种东西不值一提并且没有什么可问的。XD 二面其实难度也不高，但面试官的评判应当比较严格。而我从整体状态到知识技术各方面都，挺差，甚至没有准确的自我判断。感觉凉了。 最后第二天收到邮件，没有后续。 菜是原罪。 这样的面经应该对他人没有用处，是无谓的记录。 挺遗憾的。"},{"title":"七月十六夜与父母电话：父母的无力感与我的轻蔑","date":"2019-07-15T16:00:00.000Z","url":"/life/phone-call-with-parents-on-july-16th/","tags":["parents","education","love","emotion"],"categories":["life"],"content":" 我想是自青春期开始的一个习惯，也许是初中，或许更早。我对父母轻易地表现出轻蔑。尽管我知道这是「自然的」，但我仍然感到遗憾，尤其是现在，一个自认为愧对父母养育之恩的二十岁时候。 教育和极权的共生父母对于孩子「长大」的标志，让我猜一猜，大概会是觉察到「无力感」的时候。如是的场景在影视中并不鲜见：年岁渐长的少年进入青春期，反叛、放肆、无所顾忌，某日犯下打错，其父母抬手眼见要打了，终究没有下手。这绝不仅仅是于心不忍，可能更有一种深远的担忧——孩子已经开始萌生自我意识，开始主宰自己的世界了，若真下手说不定要造成无法挽回的撕裂。这种无力感，生于对孩子的世界的失控。 孩子初见世时，懵懂无知，面对的唯有来自父母的「极权」——容我解释，这里没有贬义，只说极端的权力 (power)，大多数时候它充满着爱意与仁慈，或许也没有（比如对于「父母皆祸害」小组的同胞们）。「这叫红色，那位叫叔叔，筷子应该这么拿……」孩子对世界的全部认知来自于父母，是谓父母完全地控制孩子的世界，教育和极权共生。 深远的启蒙与控制稍微有点陈词滥调的嫌疑。我的被控制，则可能比一部分同龄人要更甚，也不是在于活动自由之类的限制，恰恰相反，我的父母一向是比较开明和宽容的。——我怎么仅一句话里就前后矛盾呢？ 现在的我对于世界的认知，一大部分谓「科学」，而我的父亲对我的科学启蒙有着相当大的作用。不仅如此，他也敬畏神灵，所以自小我也听说着许多民间的神秘传说。这两个部分是我的世界的重要组成，就此而言，所谓被控制的更甚，也是我受父母之恩泽更为深远。 与此同时，虽然我内心非常反叛，但我实际上非常之怂。所以总体上我算是个规矩听话的小孩。 夏夜的一次电话夏天的淋浴，我喜欢从用热水渐调到用冷水，温度变化的水与肌肤接触，非常爽。尤其最好浴后适逢夏夜的凉风，微微吹拂，无聊日子里难得的身心高潮——今晚正是，不会如昨晚一样闷热。在阳台或伸懒腰，或坐下耷拉，东风拂面，舒服又熟悉，想起在家吹晚风的幸福了。拿起手机 FaceTime 给家里，闲聊。 我打电话回家几乎未有什么要事，有时自私地忙，一个月都不打，有时猛地想起就打。话里是琐碎，甚至要找话说，其实沉默也好，沉默如同我往常在家待着，只要数据连通我就觉得家人在身边。 正说着准备自己做东西吃的事，提起用电安全，我忽而模糊地想起，很久以前父母似乎有次意外地与交流电有碰触，当时非常危险，幸好结果无事。我记得这段是我从旁听父母交谈知道的，或许不是，我记不清。于是我问母亲：「以前好像爸说碰到电是穿鞋不接地无事还是赤脚接地无事来着？」真是问得毫不惭愧，这点物理知识都要忘。 父亲在旁边明显地严厉起来，略带着怒气说这不告诉，好奇这个对我不好。大意如此，是对着小孩讲的感觉。我叛逆的灵魂迅即升起，反对道：这点科学知识我上网一查便知，仅仅是现在闲聊提起罢了，好笑，难道我要蠢得拿手去默默插座一试吗？ 看来对等，的确小孩子气，这小孩不是小小孩，是叛逆期的骄傲小孩。 爱、恐惧和无力感是的，放下电话我觉得不自在，我觉得不好——这种自然反应一般的对父母的轻蔑。轻蔑的底气是骄傲的自我。 父亲此种严厉还有次几乎一样的，是过年时家人闲聊，说到年轻时父亲武力之勇猛精巧，奶奶好奇那么为何不授予孩子我、有武傍身何不呢。是今年的春节，所以我记得很清楚，父亲的逻辑很清晰：学了他要以为他会了，就容易惹祸上身；不会，到社会上认怂得个安全。有道理，免得我在这个 21 世纪的野蛮社会里「好勇必败」。 当这两件事情一起出现在脑中，我觉察到父亲的恐惧，一种出自深爱的恐惧——就是怕我出事，那就干脆不教，什么拳脚什么交流电，一概不教想必少一分风险。 不想转眼二十度春秋，我独立意识很久了，反叛愤怒也很久了。父母的习惯与现实不合，他们现在能够把控的空间不断紧缩。父亲用心良苦，出于温情的习惯也在近几年在我面前屡屡碰壁。可是一向暴躁的他终究也平和相对，未见恼怒未见气馁。 我要说的，只是父母这份时间造成的「无力感」。 对轻蔑的遗憾也不算很意外，我开始觉察父母的心绪与感受。当然是依赖于换位想象，可能不够精确，但我觉得是如此了。 我一直希望我的青春期尽量长，一直保有赤忱、较劲与叛逆。可是这些东西也将导致我在眼前以及将来的生活中受挫，没办法的，否则，我怎么会觉得成长那么痛呢。 长大以后，觉得自己可以掌控自己的世界，决定自己的意识究竟要往何处生长，常常傲视天地，自不量力。这种傲气碰上来自于父母习惯性的控制，容易产生冲突，「轻蔑」则算是平和的冷气了。尽管有一点值得一提的是，所谓习惯性的控制，其实也包含着父母对于已经成人的我轻视。我仍然对自己感到遗憾。 我完全可以有更加温柔的回应，可惜习惯的速度容不得我多虑。一次穿越大半个中华的通讯，我很不情愿这样收尾。 无力感代表着非暴力，其背后是深沉的爱；只是在世上混了二十年就要轻蔑爱自己的人，是幼稚且可笑的。"},{"title":"《乐队的夏天》第 8 期「理想世界」：2019 年最好的一期节目","date":"2019-07-14T16:00:00.000Z","url":"/life/the-big-band-ep8/","tags":["music","band","rock and roll","variety show"],"categories":["life"],"content":"《乐队的夏天》第 8 期，是在 2019 年全年（对，包括未来）、所有节目（对，包括所有类型）之中，最好的一期节目。 这期是延续上一期积分赛的下半场，八个乐队自由选歌表演，主题是「理想世界」。看这期节目的感受是： 哭完一场，又哭一场。 小孩子的眼泪是咸的，大人的眼泪又苦又酸。 理想很遥不可及，生活很无聊，成长很痛。 观赏指路： ▶️ 《乐队的夏天》07/13/2019 第 8 期（上）▶️ 《乐队的夏天》07/13/2019 第 8 期（下） 刺猬 - 24 小时摇滚聚会 var ap = new APlayer({ element: document.getElementById(\"aplayer-kKArkbol\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"24 小时摇滚聚会\", author: \"刺猬乐队\", url: \"刺猬乐队 - 24 小时摇滚聚会 (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 刺猬总冠军！ 中间那段太爽了。 面孔 - 港湾 var ap = new APlayer({ element: document.getElementById(\"aplayer-IFUJJiSc\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"港湾\", author: \"面孔乐队\", url: \"面孔乐队 - 港湾 (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 钢琴加上交响乐真的惊艳到我了。旋律非常好听。辉歌的嗓音真的保养得好好。 海龟先生 - Where Are You Going var ap = new APlayer({ element: document.getElementById(\"aplayer-wzJWHfzG\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"Where Are You Going\", author: \"海龟先生\", url: \"海龟先生 - Where Are You Going (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 其实我是灾难的幸存者。为什么不是我？为什么是他们？我大约是从这首歌开始哭的。 往哪儿走呢？往前走啊。 盘尼西林 - 群星闪耀时 var ap = new APlayer({ element: document.getElementById(\"aplayer-wzncMZZx\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"群星闪耀时\", author: \"盘尼西林\", url: \"盘尼西林 - 群星闪耀时 (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 我就是邪恶的，我是黑夜的一部分，我低头见的是自己，我仰头瞻仰的是闪耀群星。 Mr. WooHoo - Someday var ap = new APlayer({ element: document.getElementById(\"aplayer-PNAvQBvX\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"Someday\", author: \"Mr. WooHoo\", url: \"Mr. WooHoo - Someday (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 有一天，人们穿着花裤子在沙滩上一起舞蹈，欢送我的离去。 看似轻松律动的音乐，其实讲的是「生死」这个永恒的命题。老狼点出问题：无常。马斯卡给出答案：豁达。 九连真人 - 北风 var ap = new APlayer({ element: document.getElementById(\"aplayer-DudovGdc\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"北风\", author: \"九连真人\", url: \"九连真人 - 北风 (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 九连这次没有小号，更安静、悠扬。旋律和编曲都没得说。 我爱的就是这样的生活。 看到阿麦和阿龙哭了，我也哭了。最近真是很容易代入，且见不得人流泪。 新裤子 - 生活因你而火热 var ap = new APlayer({ element: document.getElementById(\"aplayer-TTqHhmtK\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"生活因你而火热\", author: \"新裤子\", url: \"新裤子 - 生活因你而火热 (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 不知道是否前面积攒情绪的关系，至此我已经呼吸非常困难了，抹泪的纸巾已经好几张。新裤子这场表演和《花火》一样，直击心灵，特别是配合节目组制作的黑白画面。 哭，且哭得不痛快，如鲠在喉，如生活。我难过，抽泣不止，可是嘴角微扬，四肢、肚子乃至全身发麻、萎缩。 生活的理想世界，理想世界的生活。 这实在是，我第一次听歌导致如此剧烈的生理反应，甚至是第一次感受到身体萎缩。 旅行团 - Bye Bye var ap = new APlayer({ element: document.getElementById(\"aplayer-scjPaXYP\"), narrow: false, autoplay: false, showlrc: false, music: { title: \"Bye Bye\", author: \"旅行团乐队\", url: \"旅行团乐队 - Bye Bye (live).m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); Bye bye 我的怯懦卑微与屈辱，Bye bye 我讨厌的东西、我恨的世界。我们不是来改变世界的，我们就是世界。 与世界的对抗，对世界的义务。 果然最直接的催人泪下的，仍然是讲述生活的。"},{"title":"正则表达式","date":"2019-07-11T16:00:00.000Z","url":"/general/regular-expression/","tags":["string","pattern matching","grep","sed","awk"],"categories":["general"],"content":"正则表达式 (Regular Expression, regex, regexp) 使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。 A regular expression is a pattern that describes a set of strings. 常用的工具 grep 中的「re」就是指正则表达式，Ken Thompson 在 44 年前 (Nov. 1974) 将此符号系统引入 grep。正则表达式的 POSIX 规范，分为基本型正则表达式 (Basic Regular Expression, BRE) 和扩展型正则表达式 (Extended Regular Express, ERE)。顾名思义，后者会更强大。在 GNU 实现的 grep 中，基本语法和扩展语法的可用功能没有区别。Perl 兼容正则表达式 (Perl Compatible Regular Expressions, PCRE) 支持更多的功能，它是由 Philip Hazel 在上个世纪末 (1997) 开发的一个正则表达式引擎，实现与 Perl 5 一致的语法和语义，被用于许多现代的著名项目，如 Apache、PHP、KDE、Postfix、Nmap 以及 Apple Safari。 基本结构我们暂且不管形式语言、自动机之类的理论，先来看一个简单的例子：hello*。这个正则表达式是含有 6 个字符的字符串，它匹配 hello、helloo 以及 hellooo 等等无穷多个以「hello」开头、后接 0 个或多个「o」的字符串。 正则表达式的基本结构是匹配一个字符的模式 (pattern)。大部分普通的字符，包括所有的字母和数字，都匹配它们自身，如 h 匹配 h、e 匹配 e。 一些有特殊功能的字符，如上例中表示匹配前面的子表达式 (o) 任意次的 *，叫作元字符 (meta-character)。若要匹配元字符自身，则需要一个前缀的反斜杠 (\\, backslash) 进行转义 (escape)，如 \\* 匹配一个星号 (*, asterisk)。 元字符有：^ $ ( ) * + ? . [ \\ { |。 句点 . 是元字符，匹配除回车符 (carriage return, CR) 和换行符 (newline / line feed, LF) 之外的任意的单字符。例如，w.ll 能匹配 will 和 well。 一个正则表达式可后接像 * 这样的表达式，表示重复操作 (repetition)。详见下表： 表达式 描述 * 匹配前面的子表达式 0 次或更多次。 ? 匹配前面的子表达式 0 次或 1 次。 + 匹配前面的子表达式 1 次或更多次。 {n} 匹配前面的子表达式恰好 n 次。 {n,} 匹配前面的子表达式至少 n 次。 {n,m} 匹配前面的子表达式至少 n 次、至多 m 次。 从上表可见重复操作不一定由单个字符完成，更复杂的操作可能需要成对出现的花括号 ({ &amp; }, curly braces) 以及数字。* 等价于 {0,}，? 等价于 {0,1}，+ 等价于 {1,}。此外 GNU grep 中还支持 {,m}，表示匹配至多 m 次，这是 GNU 的扩展 (extension)。 两个正则表达式可以直接连接，表示串接操作 (concatenation)，其结果匹配任何由分别匹配原表达式的字符串串接而得的字符串。为了表达得严谨些，看起来有点绕，举个例子来看就会很简单：正则表达式 a 和 b 串接的结果 ab，匹配由字符串 a 和 b 串接而得的字符串 ab。显然，这种操作是基本而广泛的。 两个正则表达式可以用竖线符 | 连接起来，表示选择操作 (alternation)，其结果匹配两个表达式中的任意一个。举个例子：a|b 匹配 a 或 b。（没错，这和或运算 (or) 的中缀表示法一致。） 重复操作优先于串接操作，串接操作优先于选择操作。例如，hi* 能匹配 hii 而不能匹配 hihi，fuc|nk 能匹配 fuc 而不能匹配 funk。 整个表达式可以使用圆括号 (( &amp; ), parentheses) 括起来，形成一个新的子表达式 (subexpression)，其优先级比前述三种操作都更高。例如，(hi)* 能匹配 hihi，fu(c|n)k 能匹配 funk。 空的正则表达式匹配空字符串 。 方括号表达式与字符类除了前文介绍的花括号和圆括号，还有一种常见的括号——方括号 ([ &amp; ], (square) brackets)。 由方括号括起来的一系列字符叫作方括号表达式 (bracket expression)，匹配方括号内字符序列中的任意一个字符。例如，[fox] 匹配 f、o 或者 x，等价于 f|o|x。 若序列中第一个字符为脱字符 (^, caret)，则匹配排除序列中字符的任何字符。例如，[^cat] 则无法匹配 c、a 或 t 但能匹配 d、0 或 g 等等。 方括号内仍有特殊功能的元字符仅余用于转义的反斜杠 \\ 以及在第一位的脱字符 ^。例如，[(fu)*k] 能匹配 (、f、u、)、* 或者 k。 在方括号表达式中，由两个字符及其之间的连字符 (-, hyphen) 组成的字符串叫作字符范围表达式 (range expression)，匹配在字符集中处于这两个字符之间范围的任意一个字符。还是举例子比较简单，对于一般的字符编码，[a-z] 匹配任意一个小写字母，[0-9] 匹配一位阿拉伯数字。所以，[A-D] 等价于 [ABCD] 即 A|B|C|D。 此外，方括号表达式中预定义了一些命名字符类 (named character class)，表示一系列特定的字符。详见下表： 类名 描述 [:lower:] 小写字母字符，同 [a-z] [:upper:] 大写字母字符，同 [A-Z] [:alpha:] 字母字符，即 [:lower:] 和 [:upper:]，同 [A-Za-z] [:digit:] 数字字符，同 [0-9] [:xdigit:] 十六进制数字字符，同 [A-Fa-f0-9] [:alnum:] 字母和数字字符，即 [:alpha:] 和 [:digit:]，同 [0-9A-Za-z] [:blank:] 空白符，指空格 (space, SP) 和制表符 (horizontal tab, HT)，同 [ \\t] [:space:] 空格符，指制表符 (HT)、换行符 (LF)、垂直制表符 (vertical tab, VT)、换页符 (form feed, FF)、回车符 (CR) 和空格 (SP) [:punct:] 标点字符，有：! &quot; # $ % &amp; &#39; ( ) * + , - . / : ; &lt; = &gt; ? @ [ \\ ] ^ _ &#x60; { &#x7C; } ~ [:graph:] 有形字符，即 [:alnum:] 和 [:punct:] [:print:] 可打印字符，即 [:alnum:]、[:punct:] 和空格 (SP) [:cntrl:] 控制字符，在 ASCII 中指从十进制的 0 到 37，以及 177 (DEL) 注意上表首列中的中括号是类名的一部分，含有命名符号类的正则表达式应该形如 [[:name:]]。例如，正则表达式 [[:lower:]01] 匹配所有小写字母，以及两个数字 0、1。 这里提及一个有趣的问题：我们知道 [[:digit:]] 等价于 [0-9]，那么如何写一个等价的一般的方括号表达式以在 shell 中使用 GNU grep 匹配 [:punct:] 这样一个复杂的符号类？这个问题主要是将有特殊功能的字符表示为普通字符，涉及 shell 中的引号使用以及中括号内的字符顺序。答案是： 我们在 shell 中通常用单引号来引用正则表达式，因为单引号最大限度地避免扩展 (expansion)，保留特殊字符的字面值 (literal value)，如 $ 仅仅是美元符 (dollar sign) 而非变量标志。前文说方括号内的元字符并未提到方括号 ([ &amp; ])，也就是说 [[] 匹配左方括号，[]] 匹配右方括号。这是没错的，虽然看起来有点不合常理的机智，因为一般而言 ] 不是标志着这个子表达式的终结吗？——类似于「在第一位的 ^ 代表排除式内字符」的规定，特别地，方括号内在第一位的 ] 匹配自身，而非结束方括号表达式。所以若要匹配 ]，必须将它放在第一位；正如若要匹配 ^，不得将它放在第一位。除此二之外，更多规则详见下表： 模式 描述 [. 表示 collating symbol 的开始 .] 表示 collating symbol 的结束 [= 表示 equivalence class 的开始 =] 表示 equivalence class 的结束 [: 表示命名字符类的开始，后跟有效类名 :] 表示命名字符类的结束 - 表示字符范围，当在非首位且非末位时 匹配空串的特殊表达式反斜杠符 \\ 作为转义字符（港台称「跳脫字元」），后跟一些特定的字符，表示一些特殊的模式匹配。 模式 描述 \\b 匹配单词边缘的空字符串 \\B 匹配非单词边缘的空字符串 \\&lt; 匹配单词开头位置的空字符串 \\&gt; 匹配单词末尾位置的空字符串 \\w 匹配单词成分，等价于 [_[:alnum:]] \\W 匹配非单词成分，等价于 [^_[:alnum:]] \\s 匹配空白符，等价于 [[:space:]] \\S 匹配非空白符，等价于 [^[:space:]] 其中「单词边缘」？「空字符串」？不太好理解。 举个例子，字符串 self-censorship 的每对相邻字符 (eg. s e)之间以及第一个 s 的左边、末尾 p 的右边的位置上，可以看作存在一个（或任意个）「空字符串」。 那么位于第一个 s 和 c 的左边、f 和 p 的右边，也就是「单词边缘」的位置上的那个空串，能够由 \\b 匹配。于是 \\bs. 能匹配该串中的 se 而不匹配 so 或 sh。所谓单词边缘就是指一个其左右两个字符一个属于单词成分 (\\w)、一个不属于单词成分的位置。于是不难理解 \\B、\\&lt; 和 \\&gt; 应匹配什么位置的空串。 匹配特定空串实际上就是匹配位置。 脱字符 ^ 匹配行首的空串，美元符 $ 匹配行末的空串。这两个字符被称为锚 (anchor)，因为它们分别被锚定到行首和行末。例如，一文本文件有如下字符： 则 ^H.p 匹配该行内的 Hip，H.p$ 匹配该行内的 Hop。 反向引用与子表达式反向引用 (back-reference) 的语法为 \\n，其中 n 是一位数字。\\n 引用了正则表达式中第 n 个由圆括号形成的子表达式 (parenthesized subexpression)。例如，(f)\\1 相当于 (f)(f)，匹配 ff。 当被引用的子表达式被用于选择操作 (|) 中，假如该子表达式所在的部分不参与匹配，则整个匹配失败。例如，a(.)|b\\1 无法匹配 ba。GNU grep 给出的错误是「Invalid back reference」。 当有多个正则表达式进行匹配（比如 grep 使用 -e &lt;PATTERN&gt; 或 -f &lt;FILE&gt; 参数）时，向后引用的编号 (n) 是对于每一个正则表达式而言的。 以上是「正则表达式」的基本内容。 📖 [Ref] GNU grep docs"},{"title":"在 Ubuntu 安装与配置 MariaDB","date":"2019-03-17T16:00:00.000Z","url":"/database/mariadb-on-ubuntu/","tags":["mariadb","mysql","linux","ubuntu","primer"],"categories":["database"],"content":"MariaDB 是流行的关系型数据库管理系统 (RDBMS)，其著名用户有 Wikipedia、WordPress.com 和 Google。在 2009 年 Oracle 收购 Sun Microsystems 之后，后者旗下的开源数据库系统 MySQL 自然归属于（臭名昭著的）Oracle。为规避潜在的闭源风险，MySQL 的创始人 Michael Widenius 及原开发团队创建了一个保证开源的新分支——MariaDB。 安装MariaDB 可以从 Ubuntu 的官方软件源安装： 从前文的背景简述可知，MariaDB 兼容 MySQL，毕竟……/usr/bin/mariadb 就是 /usr/bin/mysql 的软链接。 要检查软件版本，执行： 本文将在上示环境和软件版本下进行。 启动 MariaDB 服务： 安全配置安装完成后建议首先用软件自带的一个脚本执行初始的安全配置： 注意使用 sudo 以获取 root 权限来执行，这是因为 MariaDB 的默认用户 root 采用 unix_socket 插件进行鉴权（这一点会在后面提到），而执行安全配置需要登录。 root 默认密码为空，按下「Enter」键即可。接下来设置你的 root 用户密码（注意没有回显）： MariaDB 默认有一个允许任何人登录的匿名用户，方便测试或者初次安装配置（例如后文会讲的用户配置），在生产环境下建议删除之： root 用户一般应该仅允许从本地登录，禁止远程连接： MariaDB 默认有一个允许任何人访问的数据库 (test)，在生产环境下建议删除之： 最后重载权限表以应用上面所做的变更： 创建用户经过安装和简单的初始配置之后，我们来尝试连接到 MariaDB server 看看，直接执行： 此时会遇到错误： 看起来是访问权限的问题：以 root 用户从本地尝试访问被拒绝。 我们在前面的配置中已经删除了匿名用户，现在 MariaDB 只有一个 root 用户；而我当前系统登录用户并非 root——其实数据库系统的用户和操作系统的用户显然是两回事，两者有什么关系呢？ 参考 Stack Overflow 的一个问答，MySQL 在一些系统（比如 Ubuntu）默认使用 unix_socket 插件，依赖系统用户凭证进行鉴权。官方文档讲，这个插件发布于 MariaDB 5.2.0，从 MariaDB 10.4.3 开始默认启用。unix_socket 允许用户通过本地的 Unix socket 文件使用系统凭证登录到 MariaDB Server。此插件通过系统调用可以获取连接到 socket 的进程 uid，进而得到与其关联的用户名，然后会将连接用户作为具有相同用户名的 MariaDB 用户进行身份验证。 简单的理解大概是，MariaDB 现在是通过系统用户来登录的，那么就要求 MariaDB 有一个同名用户。我们来看看 MariaDB 现在的用户配置： 虽然也可以修改插件配置，但是这里我仍然建议创建一个同名的数据库用户： 其中 YOUR_SYSTEM_USER 是你的用户名。至此就可以开始顺利地玩耍了。"},{"title":"为 Ubuntu LTS 安装 HWE 以获取更新的内核与图形支持","date":"2019-03-05T16:00:00.000Z","url":"/linux/ubuntu-install-hwe-for-newer-kernel-and-x-support/","tags":["ubuntu","software","hwe"],"categories":["linux"],"content":"本文是一份提示。 TL;DR: 原计划于今年 2 月 7 日发布的 Ubuntu 18.04.2 LTS 因 Linux 4.18 内核的一个 bug 推延至 2 月 14 日。（放送旧闻？）Ubuntu 18.04.2 LTS 最终伴随着来自 18.10 的内核与图形更新以及其他安全补丁和 bug 修复得以正式发布。此外，Ubuntu 18.04 的生命周期从五年延长至十年，这是 Ubuntu 创始人 Mark Shuttleworth 在去年 11 月的 OpenStack Summit 上宣布的。 Ubuntu LTS enablement（也叫 HWE 或 Hardware Enablement）stacks 用于支持不断更新的硬件技术，能够为现存的 Ubuntu LTS 提供更新的内核与图形支持，适用于桌面版、服务器版甚至 Cloud 版和虚拟镜像。 HWE Stacks (i.e. HWE Kernel + X Stack) 随 LTS 的小版本更新（point release，比如最近的 18.04.2）发布，当通过媒介安装新版 Ubuntu LTS 时，HWE 会一并安装，对于正在运行的系统则需要手动安装。为了减轻维护团队的负担，HWE 采用滚动更新的模式。LTS 的第五个（即最后一个）小版本更新时，用户将被要求升级至最后一个 HWE stack 以保留安全更新和 bug 修复的支持。 安装 HWE 只需要执行： 下面是我的安装记录，显示了一些实际即将安装的和移除的包： 📖 [Ref] Softpedia news | It’s F.O.S.S news | Ubuntu wiki LTSEnablementStack, RollingLTSEnablementStack"},{"title":"二〇一八，以末为始","date":"2018-12-30T16:00:00.000Z","url":"/life/the-end-of-2018/","categories":["life"],"content":" var ap = new APlayer({ element: document.getElementById(\"aplayer-RNsKLBxf\"), narrow: false, autoplay: true, showlrc: 2, music: { title: \"浪流連\", author: \"茄子蛋\", url: \"EggPlantEgg-WavesWandering.mp3\", pic: \"/life/the-end-of-2018/EggPlantEgg-WavesWandering.jpg\", lrc: \"EggPlantEgg-WavesWandering.lrc\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 今天醒来已是午后，一如今年混乱的生活习惯。摸到床边的眼镜戴上，神志不清地打开手机，漫无目的地划动浏览。严冬的阳光从窗外射进晦暗的寝室里，渐渐终于能回过神，知道我在何处要做什么事。 二〇一八年，没了。 这是我第一篇公开发布的博客，是对自己的一年来浪荡歧途的审视和反省，以末为始。 我自满于雕虫小技先说代码，主要时间用于算法题目训练，代码写得最多还是 C，最多混乱地用用 C++ Standard Library 几个简单的类以简化代码，Java 不能算入门。其次说习惯，主要工作平台切换到 Ubuntu 18.04 LTS，熟悉 Linux 的一些常用命令，简单地接触 Shell，还不会写脚本，就把命令按序写入文件当作快捷方式用 (😅)，另外也算能自己应对各种意外错误，依靠网络自行解决问题，可以沉着（不慌）面对英语文档。 ACM 生涯结束以后，主要兴趣转向 Web，尽管至今仍相信这不会是我将来的工作领域。遗憾的是，自认为至今仅仅零散地见识了一些基础的技术应用，算是入门水平吧。 总之，我仍然无法专注于某项技术深入学习。我兴趣广泛，但时间的限制令我浅尝辄止，我喜欢折腾，我明白基础知识的重要性，却仍执迷于环境和工具配置。我自满于雕虫小技，我浪费珍贵的精力用于那些无益于我技术前途的东西，这是一种短见和贪婪。 我的青春结束了这是宣言，于 11 月 15 日 22:32 在 Telegram 的私人频道发出。10 月 28 日我到徐州参加亚洲区域赛，是我的第一场比赛，也是最后一场。无牌退役，是「结束」的标志。我眼睁睁看着自己的生命力丧失了，对此我当然会反抗，但无法否认这个现实。 我二十了。 回不去了，就努力长大吧。 我还是喜欢哭下半年哭的次数多了，我很愿意如此，小标题的「喜欢」真不是平常人们言下「习惯」之意，而是由衷的。说说印象深刻的几次。一次是在对杨的倾诉，我当时陷入无底的悲哀，执迷于自我之究竟，我是逼着自己流出泪水的。一次也是面对杨，是突如其来的自我检查和陈述，说着说着，把自己说哭了。弄哭我的是自己，我恐惧时间、恐惧成长、恐惧变化，我恐惧面对自己。许多次是为了杨超越，这个我有幸于夏天认识的平凡却不普通的少女，为其遭受的责难和暴力、为其所得的自信与荣耀，我感动于赤诚纯粹的心。几次是看《你好，旧时光》，我喜欢生动的青春、单纯的情愫，我喜欢他们的有血有肉、勇敢仗义。 青春里每个人都是主角。 我愿彼时我会如小越在日记总所言一般——「可是呢，我到现在还是没有改哈哈哈哈」。 我扔弃了社交 人生最无谓最浪费的就是人事。 我和一个朋友绝交，我疏远了才交好的室友，我切断了可有可无的社交联系。我可以接受只有一两个好友，我不愿意再嬉皮笑脸地面对我根本不在乎的人事，我不会主动对迎面走来的人们打招呼，我不想再给那些来去无由的人们任何多余的眼神。既然我信随机混乱的世界观，我就接受世俗所谓之「缘分」。当你朋友意味着不要也罢。社交这种事，我本就不擅长便也不想花力气去努力了。 我没有明确的目标我有想做的事，我没有计划，也没有明确的目标。我自以为当初比同龄人清醒，走到今天反而越发糊涂和迷茫。不知所为，不知所向。 我的明天零点是二〇一八的终结。以末为始，我会一无所有失无可失地出发，我会勇敢且诚恳地大步往前走。 我相信明天会更好，我会更快乐。 万事胜意。 "},{"title":"Windows 启动错误 0xc0e90002 的解决办法","date":"2017-10-21T16:00:00.000Z","url":"/issue/windows-error-0xc0e90002/","tags":["windows","error","boot","blue screen"],"categories":["issue"],"content":"[Note] 2017 年的旧文，近期 (Jul. 2019) 寻回并整理。 在一次从 Windows 10 家庭版升级至 Windows 10 Insider Preview 的过程中，系统自动重启时无法从硬盘启动，之后我尝试从 Legacy 模式启动，亦尝试从装载 Windows 的 U 盘启动时，才出现蓝屏，并报告 error 0xc0e90002。 网上还有一些别的导致 error 0xc0e90002 的实例： 升级至 16193 版本后出问题，欲回退至 15063 失败 安装并使用 Insider Preview 一段时间后，欲回退至原来的 Windows 版本 从 1703 预览版回退失败后重装 1703 或 1607 可见此错误一般出现在安装新版本 Windows 10（如 Insider Preview 等等）失败（也可能成功）后欲回退或重装 Windows 失败时。这个错误是 EFI 变量中的「Revoke」信息导致的，下文记录个人解决该错误的操作步骤。 准备用料 一个正常运行的操作系统：也许你在设备上安装了多系统且有可启动的其他系统，也许你可以借朋友的正常计算机，也许你备有系统启动盘； 一个 U 盘； EFI shell：从 edk2 项目下载 EFI shell（64 位 或 32 位）。 制作 EFI shell 启动介质 将 U 盘格式化为 fat32 格式，并创建文件夹 /EFI/Boot/； 将 64 位 EFI shell 重命名为 bootx64.efi，将 32 位 EFI shell 重命名为 bootla32.efi，并将它们复制到 U 盘的 /EFI/Boot/ 目录下。 进入 EFI shell 咨询设备制造商，进入 BIOS，关闭「安全启动」模式； 在 BIOS 中调整设备启动顺序使 U 盘优先启动，或许你的计算机和我一样支持开机时进入「选择启动设备」界面； 进入 U 盘并选择对应位的 EFI shell。 删除 Revoke 信息 显示 Revoke 信息，执行 使用 dmpstore 命令删除列出的 Revoke 信息，类似于： 退出 EFI shell 如下图。 启动或重装操作系统 在 BIOS 打开「安全启动」选项； 按下电源键开机，进入原操作系统，可能需要等待系统修复；或者从 U 盘启动并重装新的操作系统。 以上是解决 error 0xc0e90002 的操作步骤。 📖 [Ref] Microsoft Community"},{"date":"2019-08-23T13:58:22.835Z","url":"/pwa_manifest.json","content":"{\"name\":\"F6FW\",\"theme_color\":\"#3949ab\",\"background_color\":\"#d81b60\",\"display\":\"standalone\",\"Scope\":\"/\",\"start_url\":\"/\",\"icons\":[{\"src\":\"img/icons/icon-72x72.png\",\"sizes\":\"72x72\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-96x96.png\",\"sizes\":\"96x96\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-128x128.png\",\"sizes\":\"128x128\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-144x144.png\",\"sizes\":\"144x144\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-152x152.png\",\"sizes\":\"152x152\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-192x192.png\",\"sizes\":\"192x192\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-384x384.png\",\"sizes\":\"384x384\",\"type\":\"image/png\"},{\"src\":\"img/icons/icon-512x512.png\",\"sizes\":\"512x512\",\"type\":\"image/png\"}],\"splash_pages\":null}"},{"title":"About","date":"2018-12-31T16:00:00.000Z","url":"/about/index.html","content":" var ap = new APlayer({ element: document.getElementById(\"aplayer-nShNPIWs\"), narrow: false, autoplay: true, showlrc: false, music: { title: \"盼暖春来\", author: \"刺猬\", url: \"刺猬 - 盼暖春来.m4a\", pic: \"\", lrc: \"\" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); 🐟 gadflysu: a beginner, a developer, an idealist, a character being censored, one of the survivors of the 21st century 👨 Personality: INTP-T 🌏 Language: 中文 / English 🥤 Drinks: caffè americano, milk tea 👨‍🎓 Major: software engineering 📧 Email: i&#x40;gadflysu.com 🕸 Social Network: 🐦 Telegram (📻 Channel / 💬 Group) 🐣 Twitter 📷 Instagram 🐘 Mastodon 🚫 #SayNoToWeChat #SayNoToQQ 👨‍💻 Programming: 🛶 Pascal ⛰ C 🏔 C++ ⛵️ Java ⏱ Algorithm Competition: NOIP (2015) / ACM-ICPC Regional (2018) No Awards :) 💻 Laptop: OMEN by HP Laptop PC - 15-ax018tx (2016) 📱 Mobile Phone: Apple iPhone SE (Space Gray) (2018) / Google Nexus 5X (2016) 🖥 Desktop OS: Ubuntu 18.04 LTS Unity ☁️ Server OS: CentOS 7 Ubuntu 18.04 LTS Bionic 🐚 Shell: Bash / Zsh (with Oh My Zsh) 📝 Editor: Sublime Text 3 ⌨️ Indentation: 4 Spaces &nbsp;&nbsp;&nbsp;&nbsp; 🌼 Opening curly braces: on the same line "},{"title":"Changelog","date":"2019-10-23T19:00:00.195Z","url":"/changelog/index.html","content":"201909/03增加 changelog 页面。 09/02切换到 Suka 主题的 canary 分支。 01/01 博客上线。 使用 Material Theme。 "},{"title":"捐赠","date":"2019-04-17T16:00:00.000Z","url":"/donate/index.html","content":"如果你喜欢我的作品、觉得它们对你有帮助，可以请我喝杯咖啡。 If you like my works and think they’re helpful, feel free to buy me a coffee. PayPal Patreon Buy Me A Coffee "},{"title":"Gallery","date":"2019-07-16T08:32:12.577Z","url":"/gallery/index.html"},{"title":"Links","date":"2019-07-16T08:32:12.577Z","url":"/links/index.html"},{"title":"推荐","date":"2019-04-13T16:00:00.000Z","url":"/ref/index-NSConflict-gadflysu-linux5.0.0-25-generic.html","content":"BandwagonHostBandwagonHost 是著名的虚拟专用服务器 (VPS) 商。点击【这里】购买 BandwagonHost 的 VPS，我可以获得 22% 的返利。 Vultr [Get $50] 点击【这里】（或【这里】）成为 Vultr 的新用户并保持活跃 30+ 天、完成至少 $ 25 的订单，你可以获得 $ 50 的消费额度，我可以获得 $ 25 的返利。 Vultr 是著名的云服务商。点击【这里】（或【这里】）成为 Vultr 的新用户并保持活跃 30+ 天、完成至少 $ 10 的订单，我可以获得 $ 10 的返利。 DropboxDropbox 是著名的在线文件同步服务，可在多设备间快速同步文件，支持还原历史文件。点击【这里】成为 Dropbox 的新用户并安装软件。 OneDriveOneDrive 是微软运营的在线文件存储服务。点击【这里】成为 OneDrive 的新用户，你和我均可获得额外的 0.5 GB 存储空间。 TeraCLOUDTeraCLOUD 是日本一家支持 WebDAV 的在线文件存储服务。点击【这里】注册并登录之后，在 Mypage 填写我的介绍代码 5S6CR，你可以获得额外的无限期的 5 GB 存储空间。 NotionNotion 是一个支持 Markdown、Wiki 及其他数据类型的笔记类在线协作平台。点击【这里】注册称为 Notion 的新用户，你可以获得 $ 10 的消费额度，我可以获得 $ 5 的消费额度。 DroplrDroplr 是非常优秀的文件分享与协作工具，特别是在截取与分享屏幕图像或视频的易用性上。点击【这里】称为 Droplr 的新客户。"},{"title":"推荐","date":"2019-04-13T16:00:00.000Z","url":"/ref/index.html","content":"BandwagonHostBandwagonHost 是著名的虚拟专用服务器 (VPS) 商。点击【这里】购买 BandwagonHost 的 VPS，我可以获得 22% 的返利。 Vultr [Get $50] 点击【这里】（或【这里】）成为 Vultr 的新用户并保持活跃 30+ 天、完成至少 $ 25 的订单，你可以获得 $ 50 的消费额度，我可以获得 $ 25 的返利。 Vultr 是著名的云服务商。点击【这里】（或【这里】）成为 Vultr 的新用户并保持活跃 30+ 天、完成至少 $ 10 的订单，我可以获得 $ 10 的返利。 DropboxDropbox 是著名的在线文件同步服务，可在多设备间快速同步文件，支持还原历史文件。点击【这里】成为 Dropbox 的新用户并安装软件。 OneDriveOneDrive 是微软运营的在线文件存储服务。点击【这里】成为 OneDrive 的新用户，你和我均可获得额外的 0.5 GB 存储空间。 TeraCLOUDTeraCLOUD 是日本一家支持 WebDAV 的在线文件存储服务。点击【这里】注册并登录之后，在 Mypage 填写我的介绍代码 5S6CR，你可以获得额外的无限期的 5 GB 存储空间。 NotionNotion 是一个支持 Markdown、Wiki 及其他数据类型的笔记类在线协作平台。点击【这里】注册称为 Notion 的新用户，你可以获得 $ 10 的消费额度，我可以获得 $ 5 的消费额度。 DroplrDroplr 是非常优秀的文件分享与协作工具，特别是在截取与分享屏幕图像或视频的易用性上。点击【这里】称为 Droplr 的新客户。"},{"title":"Search","date":"2019-07-16T08:32:12.577Z","url":"/search/index.html"},{"title":"Blog Tags","date":"2019-07-16T08:32:12.577Z","url":"/tags/index.html"},{"title":"timeline","date":"2019-07-16T08:32:12.577Z","url":"/timeline/index.html"}]